@PersistenceContext
스프링 JPA Entity Manger를 주입해줌.

## 1. 명세 다시 확인
1. 회원 기능
- 회원가입: 이름, 도시, 거리, 우편번호를 입력받아 회원가입
- 회원 목록


## 2. 도메인 다시 확인
## 3. 레포지토리
레포지토리에선 어떤 기능이 필요할까 고민해보자.
1. 등록 기능 - 새로운 회원을 등록
2. 찾기 기능 - id로 찾기, List로 전부 가져오기, 이름으로 찾기
```java
@Repository
public class MemberRepository {

    @PersistenceContext
    private EntityManager em;

    public void save(Member member) {
        em.persist(member);
    }

    public Member findOne(Long id) {
        return em.find(Member.class, id);
    }

    public List<Member> findAll() {
        return em.createQuery("select m from Member as m", Member.class)
                .getResultList();
    }

    public List<Member> findByName(String name) {
        return em.createQuery("select m from Member as m where m.name = :name", Member.class)
                .setParameter("name", name)
                .getResultList();
    }
}
```

## 4. 서비스 개발

쿠키는 브라우저가 세션 아이디를 나르기 위한 매개체일 뿐.

브라우저 환경이 아닌 경우 토큰을 사용.

세션 아이디를 저장하던 DB가 너무 커져서 도입한 것이 JWT

JWT에서는 이제, DB에 세션을 저장하지 않고, 인증 사인된 정보를 string형태로 보내버림. 걍 토큰에 인증 정보 전부 때려 넣어버린 모습이다. 

언제든 복호화 당할 수 있으니, 중요 정보를 넣지 않는다.

// 세션 DB 있고 없고 차이
세션이 있으면, 동시 접속 추적이 가능함.

JWT에서는 이런게 안 되고 그냥 토큰 만료까지는 유효
QR 체크인이 보통 JWT