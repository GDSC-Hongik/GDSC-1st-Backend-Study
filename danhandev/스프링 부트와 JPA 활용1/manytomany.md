# @ManyToMany 지양
회원 테이블에서 카테고리와 상품의 관계를 다대다 관계로 설정했다.

카테고리는 여러 개의 상품들과 매핑되고 상품은 여러 개의 카테고리를 가질 수 있으므로 카테고리와 상품은 다대다 관계이다.

JPA에서는 @ManyToMany를 통해 연관관계를 매핑할 경우 하이버네이트가 중간 테이블을 알아서 만들어서 처리해준다. 하지만 하이버네이트에 의해 생성된 중간 테이블은 관계 설정에 필수적으로 필요한 정보들만 담겨있을 뿐 이러한 비즈니스 로직상 필요한 정보들은 담기지 않는다.

다대다 관계를 @ManyToMany로 만들면 편리할 것 같지만, 실무에서 사용을 지양해야한다. 중간테이블(CATEGORY_ITEM)에 컬럼을 추가할 수 없고, 세밀하게 쿼리를 실행하기 어렵기 때문이다.

다대다 관계가 필요하다면 중간 테이블에 대한 클래스를 직접 만들고 다대다 매핑을 일대다  @OneToMany, 다대일 @ManyToOne 매핑으로 풀어 내서 사용해야 한다.