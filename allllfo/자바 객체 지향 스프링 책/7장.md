# 7ì¥. ìŠ¤í”„ë§ ì‚¼ê°í˜•ê³¼ ì„¤ì • ì •ë³´

# IOC/DI - ì œì–´ì˜ ì—­ì „ / ì˜ì¡´ì„± ì£¼ì…

- â”**IOC**
  ### IOC ( ì œì–´ì˜ ì—­ì „ )ë€?
  - ì˜¤ë¸Œì íŠ¸ ìƒì„±, ê´€ê³„ì„¤ì •, ì‚¬ìš©, ì œê±° ë“± ì˜¤ë¸Œì íŠ¸ ì „ë°˜ì— ê±¸ì¹œ ëª¨ë“  ì œì–´ê¶Œì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê°–ëŠ”ê²Œ ì•„ë‹ˆë¼ **í”„ë ˆì„ì›Œí¬ì˜ ì»¨í…Œì´ë„ˆ(ì™¸ë¶€)ì—ê²Œ ë„˜ê¸°ëŠ” ê°œë…**

        ğŸ‘‰ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë§Œì˜ ê°œë…ì´ ì•„ë‹˜, ëŒ€ë¶€ë¶„ì˜ í”„ë ˆì„ì›Œí¬ì—ì„œ IOC ì ìš©

  - ê°œë°œìê°€ ì§ì ‘ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì˜ì¡´ê´€ê³„ë¥¼ ë§ºì–´ì¤„ í•„ìš”ê°€ ì—†ìŒ
  ### IOCì˜ ì¥ì 
  - ê°ì²´ ê°„ ê²°í•©ë„ ë‚®ì¶¤
  - ìœ ì—°í•œ ì½”ë“œ ì‘ì„±
  - ìœ ì§€ ë³´ìˆ˜ ìš©ì´
  - ì½”ë“œ ì¤‘ë³µ ë°©ì§€
  < ê¸°ì¡´ >
  1. ê°ì²´ ìƒì„±
  2. ì˜ì¡´ì„± ê°ì²´ ìƒì„±

     - **í´ë˜ìŠ¤ ë‚´ë¶€**ì—ì„œ ìƒì„±

  3. ì˜ì¡´ì„± ê°ì²´ ë©”ì†Œë“œ í˜¸ì¶œ
  < ìŠ¤í”„ë§ >
  1. ê°ì²´ ìƒì„±
  2. ì˜ì¡´ì„± ê°ì²´ ì£¼ì…

     -ì œì–´ê¶Œì„ ìŠ¤í”„ë§ì—ê²Œ ìœ„ì„í•˜ì—¬ **ìŠ¤í”„ë§ì»¨í…Œì´ë„ˆì—ì„œ ìƒì„±í•´ ë†“ì€ ê°ì²´**ë¥¼ ì£¼ì…

  3. ì˜ì¡´ì„± ê°ì²´ ë©”ì†Œë“œ í˜¸ì¶œ
  ### IOC & DI & DIP
  ![Untitled](7%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%89%E1%85%A1%E1%86%B7%E1%84%80%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A7%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%87%E1%85%A9%206b510317b6dc4c27af0ac71824a3df09/Untitled.png)
  - **DI** ( ì˜ì¡´ì„± ì£¼ì… ) : í•„ìš”ë¡œ í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ìŠ¤ìŠ¤ë¡œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì™¸ë¶€ë¡œ ë¶€í„° ì£¼ì…ë°›ëŠ” ê¸°ë²•
  - **DIP** ( ì˜ì¡´ê´€ê³„ ì—­ì „ ë²•ì¹™ ) : SOLID ì›ì¹™ ì¤‘ í•˜ë‚˜. ìì‹ ë³´ë‹¤ ë³€í•˜ê¸° ì‰¬ìš´ ê²ƒì— ì˜ì¡´í•˜ë˜ ê²ƒì„ ì¶”ìƒí™”ëœ ì¸í„°í˜ì´ìŠ¤ë‚˜ ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ë‘ì–´ ë³€í™”ì— ì˜í–¥ ë°›ì§€ ì•Šê²Œ í•˜ëŠ” ê²ƒ
  - IOCì™€ DI
    - **IOC**ëŠ” í”„ë¡œê·¸ë¨ ì œì–´ê¶Œì„ ì—­ì „ì‹œí‚¤ëŠ” ê°œë…

          **DI**ëŠ” í•´ë‹¹ ê°œë…ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜

          ì¦‰, IOC ê°œë…ì´ ì ìš©ëœ ê²°ê³¼ë¬¼ ì¤‘ í•˜ë‚˜
  - DIPì™€ DI
    DIëŠ” DIPë¥¼ êµ¬í˜„í•˜ëŠ” ê¸°ë²•ì¤‘ í•˜ë‚˜
  [https://medium.com/sjk5766/dependency-injection-ioc-dip-ioc-containerì •ë¦¬-310885cca412](https://medium.com/sjk5766/dependency-injection-ioc-dip-ioc-container%EC%A0%95%EB%A6%AC-310885cca412)
  [https://black-jin0427.tistory.com/194](https://black-jin0427.tistory.com/194)
  ***

### ğŸ“Œì§ì ‘ ì˜ì¡´ì„± í•´ê²°

- Car ê°ì²´ê°€ Tireë¥¼ ì§ì ‘ ìƒì‚°í•˜ì—¬ Tireì— ëŒ€í•œ ì˜ì¡´ì„± ìì²´ì ìœ¼ë¡œ í•´ê²°

## ìŠ¤í”„ë§ ì—†ì´ ì˜ì¡´ì„± ì£¼ì…

---

### ğŸ“Œìƒì„±ìë¥¼ í†µí•œ ì˜ì¡´ì„± ì£¼ì…

- ì£¼ì…ì´ë€?
  ìë™ì°¨ ë‚´ë¶€ì—ì„œ íƒ€ì´ì–´ë¥¼ ìƒì‚°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì™¸ë¶€ì—ì„œ ìƒì‚°ëœ íƒ€ì´ì–´ë¥¼ ìë™ì°¨ì— ì¥ì°©í•˜ëŠ” ì‘ì—…ì´ ì£¼ì…
- ì§ì ‘ ì˜ì¡´ì„± í•´ê²°ì˜ ì½”ë“œëŠ” Carê°€ Tireë¥¼ ì§ì ‘ ê²°ì •í–ˆì§€ë§Œ, ì—¬ê¸°ì„œëŠ” Driverê°€ ê²°ì •

      ğŸ‘‰ ìœ ì—°ì„±, í™•ì¥ì„± ì¢‹ì•„ì§

Car.java

```jsx
public class Car {
	Tire tire;

	public Car(Tire tire) {
		this.tire = tire;
	}

	public String getTireBrand() {
		return "ì¥ì°©ëœ íƒ€ì´ì–´: " + tire.getBrand();
	}
}
```

Driver.java

```jsx
public class Driver {
	public static void main(String[] args) {
		Tire tire = new KoreaTire();
		//Tire tire = new AmericaTire();
		Car car = new Car(tire);

		System.out.println(car.getTireBrand());
	}
}
```

### ğŸ“Œ ì†ì„±ì„ í†µí•œ ì˜ì¡´ì„± ì£¼ì…

- Car.javaì— ì†ì„± ì ‘ê·¼ì ë° ì„¤ì •ì ë©”ì„œë“œ ì‚¬ìš©

Car.java

```jsx
public class Car {
	Tire tire;

	public Tire getTire() {
		return tire;
	}

	public void setTire(Tire tire) {
		this.tire = tire;
	}

	public String getTireBrand() {
		return "ì¥ì°©ëœ íƒ€ì´ì–´: " + tire.getBrand();
	}
}
```

Driver.java

```jsx
public class Driver {
	public static void main(String[] args) {
		Tire tire = new KoreaTire();
		Car car = new Car();
		car.setTire(tire);

		System.out.println(car.getTireBrand());
	}
}
```

## ìŠ¤í”„ë§ì„ í†µí•œ ì˜ì¡´ì„± ì£¼ì…

---

### ğŸ“Œ XML íŒŒì¼ ì‚¬ìš©

- ìë°”ì½”ë“œì—ì„œ íƒ€ì´ì–´ ë¸Œëœë“œë¥¼ ì§€ì •í•˜ëŠ” ë¶€ë¶„ ì—†ì´, XMLíŒŒì¼ì—ì„œ ì§€ì • í•´ì¤€ë‹¤.

       ë”°ë¼ì„œ, ì¬ì»´íŒŒì¼/ì¬ë°°í¬ í•˜ì§€ì•Šì•„ë„ XMLíŒŒì¼ë§Œ ìˆ˜ì •í•˜ë©´ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

- **ì¢…í•© ì‡¼í•‘ëª°**ì˜ ì—­í• ì„ í•˜ëŠ” **ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬** ì´ìš©

Driver.java

```jsx
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.context.support.FileSystemXmlApplicationContext;

public class Driver {
	public static void main(String[] args)
		ApplicationContext context = new ClassPathXmlApplicationContext("expert002/expert002.xml");//ì¢…í•©ì‡¼í•‘ëª°

		Car car = context.getBean("car", Car.class); // ì¢…í•©ì‡¼í•‘ëª°ì—ì„œ ìƒí’ˆì„ êµ¬ë§¤í•˜ëŠ” ì½”ë“œ
		Tire tire = context.getBean("tire", Tire.class);

		car.setTire(tire);

		System.out.println(car.getTireBrand());
	}
}
```

## ğŸ“Œ ìŠ¤í”„ë§ ì„¤ì • íŒŒì¼(XML)ì—ì„œ ì†ì„± ì£¼ì…

- XMLíŒŒì¼ì—ì„œ íƒ€ì´ì–´ êµ¬ë§¤ ë° íƒ€ì´ì–´ ì†ì„±ì— ê²°í•©

```jsx
<bean id = "koreaTire" class ="expert003.KoreaTire"></bean> //Tire tire = context.getBean("tire",Tire.class);

<bean id="car" class="expert003.Car">
		<property name="tire" ref="koreaTire"></property> //car.setTire(tire);

```

### ğŸ“Œ@Autowiredë¥¼ í†µí•œ ì†ì„± ì£¼ì…

- importë¬¸ê³¼ @Autowired ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ì—¬ **ì„¤ì •ì ë©”ì„œë“œ ì—†ì´**ë„ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ê°€ ì„¤ì • íŒŒì¼ì„ í†µí•´ ì†ì„±ì„ ì£¼ì…í•´ì¤€ë‹¤
- @Autowired ëŠ” **type ê¸°ì¤€ ë§¤ì¹­**, ê°™ì€ íƒ€ì…ì„ êµ¬í˜„í•œ ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ ìˆì„ ê²½ìš°, **bean íƒœê·¸ì˜ id**ë¡œ êµ¬ë¶„í•˜ì—¬ ë§¤ì¹­

![Untitled](7%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%89%E1%85%A1%E1%86%B7%E1%84%80%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A7%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%87%E1%85%A9%206b510317b6dc4c27af0ac71824a3df09/Untitled%201.png)

### ğŸ“Œ @Resourceë¥¼ í†µí•œ ì†ì„± ì£¼ì…

- **ìë°” í‘œì¤€ ì–´ë…¸í…Œì´ì…˜**ìœ¼ë¡œ ìŠ¤í”„ë§ì„ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„ ì‚¬ìš©ê°€ëŠ¥
- typeê³¼ idì¤‘ **id**ì˜ ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ìŒ
- ìœ ì§€ë³´ìˆ˜ì— ë¬´ê´€í•œ ê´€ê³„ë¼ë©´ @Resourceë¥¼, ìœ ì§€ë³´ìˆ˜ì™€ ë°€ì ‘í•˜ê±°ë‚˜ ìì£¼ ë³€ê²½ë˜ëŠ” ê´€ê³„ë¼ë©´ <property>ì‚¬ìš© ì¶”ì²œ
